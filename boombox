-- // Services
local Players = game:GetService("Players")

-- // Vars
local Player = Players.LocalPlayer
local LocalPlayer = Players.LocalPlayer

local function FreeBoombox()
	if LocalPlayer.Backpack:FindFirstChild("Boombox") then
		return
	end
	if LocalPlayer.Character:FindFirstChild("Boombox") then
		return
	end
	local ScreenUI = Instance.new("ScreenGui")
	local Background = Instance.new("Frame")
	local MusicInput = Instance.new("TextBox")
	local Play = Instance.new("TextButton")
	local Stop = Instance.new("TextButton")
	local NotificationCenter = Instance.new("TextLabel")
	local Plus = Instance.new("TextButton")
	local Minus = Instance.new("TextButton")
	local SettingsButton = Instance.new("ImageButton")
	
	-- // Services
	local Players = game:GetService("Players")
	local RunService = game:GetService("RunService")

	-- // Vars
	local Player = Players.LocalPlayer
	local LocalPlayer = Players.LocalPlayer
	
	local Toggled = false
	local SoundPaused = false
	local CheckingStatus = false

	-- // Boombox Tool
	local BoomboxTool = Instance.new("Tool", LocalPlayer.Backpack)
	BoomboxTool.RequiresHandle = true
	BoomboxTool.Name = "Boombox"
	BoomboxTool.TextureId = "rbxassetid://319536646"
	BoomboxTool.GripForward = Vector3.new(1, 0, 0)
	BoomboxTool.GripPos = Vector3.new(1, -1.0, 0)
	BoomboxTool.GripRight = Vector3.new(0, 0, 1)
	BoomboxTool.GripUp = Vector3.new(0, 1, 0)

	local Handle = Instance.new("Part", BoomboxTool)
	Handle.CanCollide = false
	Handle.Material = "Plastic"
	Handle.Shape = "Block"
	Handle.Color = Color3.new(163, 162, 165)
	Handle.Size = Vector3.new(4, 1.2, 2)
	Handle.Name = "Handle"

	local Mesh = Instance.new("SpecialMesh", Handle)
	Mesh.Name = "Mesh"
	Mesh.MeshType = "FileMesh"
	Mesh.MeshId = "rbxassetid://319536754"
	Mesh.TextureId = "rbxassetid://319536704"

	BoomboxTool.Equipped:Connect(function()
		BoomboxTool.Parent = LocalPlayer.Character
		MusicInput.Visible = true
		NotificationCenter.Visible = true
		SettingsButton.Visible = true
		Stop.Visible = true
		Play.Visible = true
		Minus.Visible = false
		Plus.Visible = false
		Toggled = false
	end)
	BoomboxTool.Unequipped:Connect(function()
		BoomboxTool.Parent = LocalPlayer.Backpack
		MusicInput.Visible = false
		NotificationCenter.Visible = false
		SettingsButton.Visible = false
		Stop.Visible = false
		Play.Visible = false
		Minus.Visible = false
		Plus.Visible = false
		Toggled = false
	end)
	
	-- // Properties
	ScreenUI.Name = "ScreenUI"
	ScreenUI.Parent = game.CoreGui
	ScreenUI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

	Background.Name = "Background"
	Background.Parent = ScreenUI
	Background.BackgroundColor3 = Color3.fromRGB(138, 138, 138)
	Background.BackgroundTransparency = 1.000
	Background.Position = UDim2.new(0, 543, 0, 15)
	Background.Size = UDim2.new(0, 327, 0, 47)

	MusicInput.Name = "MusicInput"
	MusicInput.Parent = Background
	MusicInput.BackgroundColor3 = Color3.fromRGB(138, 138, 138)
	MusicInput.BackgroundTransparency = 0.500
	MusicInput.Position = UDim2.new(0.74934864, 0, -0.255319118, 15)
	MusicInput.Size = UDim2.new(0, 327, 0, 47)
	MusicInput.Font = Enum.Font.SourceSans
	MusicInput.Visible = false
	MusicInput.PlaceholderColor3 = Color3.fromRGB(0, 0, 0)
	MusicInput.PlaceholderText = "Music Input"
	MusicInput.Text = ""
	MusicInput.TextColor3 = Color3.fromRGB(0, 0, 0)
	MusicInput.TextSize = 35.000

	Play.Name = "Play"
	Play.Parent = Background
	Play.BackgroundColor3 = Color3.fromRGB(138, 255, 106)
	Play.Position = UDim2.new(0.984556437, 0, 1.53165948, 0)
	Play.Size = UDim2.new(0, 85, 0, 50)
	Play.Font = Enum.Font.SourceSans
	Play.Text = "Play"
	Play.TextColor3 = Color3.fromRGB(0, 0, 0)
	Play.Visible = false
	Play.TextSize = 30.000
	Play.MouseButton1Click:Connect(function()
		if MusicInput.Text == "" or MusicInput.Text == " " then
			MusicInput.Text = "Invalid Audio!"
			wait(1.5)
			MusicInput.Text = ""
			return
		end
		if not LocalPlayer.Character.LowerTorso:FindFirstChild("BOOMBOXSOUND") then
			-- // Music Function
			local SoundID = Instance.new("Sound", LocalPlayer.Character.LowerTorso)
			SoundID.Volume = 1
			SoundID.Name = "BOOMBOXSOUND"
			SoundID.Looped = true
			SoundID.Playing = true
			SoundID.SoundId = ""..MusicInput.Text..""

			local Audio = LocalPlayer.Character.LowerTorso.BOOMBOXSOUND.SoundId
			local Asset = game:GetService("MarketplaceService"):GetProductInfo(Audio)
			NotificationCenter.Text = "Currently Playing : "..Asset.Name.." "
			
			wait()
			SoundID.SoundId = "rbxassetid://"..MusicInput.Text..""
		else
			
			LocalPlayer.Character.LowerTorso.BOOMBOXSOUND.SoundId = ""..MusicInput.Text..""
			if SoundPaused == true then
				SoundPaused = false
				LocalPlayer.Character.LowerTorso:FindFirstChild("BOOMBOXSOUND"):Resume();
			end
			local Audio = LocalPlayer.Character.LowerTorso.BOOMBOXSOUND.SoundId
			local Asset = game:GetService("MarketplaceService"):GetProductInfo(Audio)
			NotificationCenter.Text = "Currently Playing : "..Asset.Name.." "
			
			wait()
			LocalPlayer.Character.LowerTorso.BOOMBOXSOUND.SoundId = "rbxassetid://"..MusicInput.Text..""
		end
	end)

	Stop.Name = "Stop"
	Stop.Parent = Background
	Stop.BackgroundColor3 = Color3.fromRGB(255, 108, 108)
	Stop.Position = UDim2.new(1.26373088, 0, 1.5316596, 0)
	Stop.Size = UDim2.new(0, 85, 0, 50)
	Stop.Font = Enum.Font.SourceSans
	Stop.Text = "Stop"
	Stop.TextColor3 = Color3.fromRGB(0, 0, 0)
	Stop.Visible = false
	Stop.TextSize = 30.000
	Stop.MouseButton1Click:Connect(function()
		if MusicInput.Text == "" or MusicInput.Text == " " or MusicInput.Text == "Invalid Audio!" then
			NotificationCenter.Text = "Couldn't find an audio to stop"
			wait(1.5)
			NotificationCenter.Text = ""
		end
		if LocalPlayer.Character.LowerTorso:FindFirstChild("BOOMBOXSOUND") then
			if SoundPaused == false then
				SoundPaused = true
				while wait() do
					if SoundPaused == true then
						LocalPlayer.Character.LowerTorso.BOOMBOXSOUND:Pause();
					end
				end
			end
		else
			return
		end
	end)

	NotificationCenter.Name = "Notification Center"
	NotificationCenter.Parent = Background
	NotificationCenter.BackgroundColor3 = Color3.fromRGB(138, 138, 138)
	NotificationCenter.BackgroundTransparency = 0.500
	NotificationCenter.Position = UDim2.new(0.749348581, 0, 1.13574481, 0)
	NotificationCenter.Size = UDim2.new(0, 326, 0, 12)
	NotificationCenter.Font = Enum.Font.SourceSans
	NotificationCenter.Text = ""
	NotificationCenter.Visible = false
	NotificationCenter.TextColor3 = Color3.fromRGB(0, 0, 0)
	NotificationCenter.TextSize = 14.000

	Plus.Name = "Plus"
	Plus.Parent = Background
	Plus.BackgroundColor3 = Color3.fromRGB(138, 138, 138)
	Plus.BackgroundTransparency = 0.5
	Plus.Position = UDim2.new(1.26400006, 0, 1.53199995, 0)
	Plus.Size = UDim2.new(0, 85, 0, 49)
	Plus.Visible = false
	Plus.Font = Enum.Font.GothamBlack
	Plus.Text = "+"
	Plus.TextColor3 = Color3.fromRGB(0, 0, 0)
	Plus.TextSize = 18.000
	Plus.MouseButton1Click:Connect(function()
		if MusicInput.Text == "" or MusicInput.Text == " " then
			NotificationCenter.Text = "Couldn't find an audio to higher volume on"
			wait(1.5)
			NotificationCenter.Text = ""
		end
		if LocalPlayer.Character.LowerTorso.BOOMBOXSOUND.Volume >= 0.85 then
			NotificationCenter.Text = "Music Volume : Max"
			wait(1.5)
			NotificationCenter.Text = ""
		else
			
			NotificationCenter.Text = "Music Volume : "..tostring(LocalPlayer.Character.LowerTorso.BOOMBOXSOUND.Volume)..""
			wait(1.5)
			NotificationCenter.Text = ""
		end
	end)
	Plus.MouseButton1Click:Connect(function()
		if LocalPlayer.Character.LowerTorso:FindFirstChild("BOOMBOXSOUND") then
			if LocalPlayer.Character.LowerTorso.BOOMBOXSOUND.Volume >= 0.85 then
				LocalPlayer.Character.LowerTorso.BOOMBOXSOUND.Volume = 1
				return
			end
			LocalPlayer.Character.LowerTorso.BOOMBOXSOUND.Volume = LocalPlayer.Character.LowerTorso.BOOMBOXSOUND.Volume + 0.25
		else
			return
		end
	end)

	Minus.Name = "Minus"
	Minus.Parent = Background
	Minus.BackgroundColor3 = Color3.fromRGB(138, 138, 138)
	Minus.BackgroundTransparency = 0.5
	Minus.Position = UDim2.new(0.984556437, 0, 1.5316596, 0)
	Minus.Size = UDim2.new(0, 84, 0, 49)
	Minus.Visible = false
	Minus.Font = Enum.Font.GothamBlack
	Minus.Text = "-"
	Minus.TextColor3 = Color3.fromRGB(0, 0, 0)
	Minus.TextSize = 18.000
	Minus.TextWrapped = true
	Minus.MouseButton1Click:Connect(function()
		if MusicInput.Text == "" or MusicInput.Text == " " then
			NotificationCenter.Text = "Couldn't find an audio to lower volume on"
			wait(1.5)
			NotificationCenter.Text = ""
		end
		if LocalPlayer.Character.LowerTorso.BOOMBOXSOUND.Volume <= 0.15 then
			NotificationCenter.Text = "Music Volume : Minimun"
			wait(1.5)
			NotificationCenter.Text = ""
		else

			NotificationCenter.Text = "Music Volume : "..tostring(LocalPlayer.Character.LowerTorso.BOOMBOXSOUND.Volume)..""
			wait(1.5)
			NotificationCenter.Text = ""
		end
	end)
	Minus.MouseButton1Click:Connect(function()
		if LocalPlayer.Character.LowerTorso:FindFirstChild("BOOMBOXSOUND") then
			if LocalPlayer.Character.LowerTorso.BOOMBOXSOUND.Volume <= 0.15 then
				LocalPlayer.Character.LowerTorso.BOOMBOXSOUND.Volume = 0
				return
			end
			LocalPlayer.Character.LowerTorso.BOOMBOXSOUND.Volume = LocalPlayer.Character.LowerTorso.BOOMBOXSOUND.Volume - 0.25
		else
			return
		end
	end)

	SettingsButton.Name = "SettingsButton"
	SettingsButton.Parent = Background
	SettingsButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	SettingsButton.BackgroundTransparency = 1.000
	SettingsButton.Position = UDim2.new(0.749235451, 0, 1.53191495, 0)
	SettingsButton.Size = UDim2.new(0, 39, 0, 39)
	SettingsButton.Image = "rbxassetid://2788872706"
	SettingsButton.Visible = false
	SettingsButton.MouseButton1Click:Connect(function()
		if Toggled == false then
			Toggled = true
			Play.Visible = false
			Stop.Visible = false
			Plus.Visible = true
			Minus.Visible = true
			
		elseif Toggled == true then
			Toggled = false
			Play.Visible = true
			Stop.Visible = true
			Plus.Visible = false
			Minus.Visible = false
		end
	end)
end
FreeBoombox();
LocalPlayer.CharacterAdded:Connect(function(C)
	C:WaitForChild("Humanoid");
	FreeBoombox();
end)
